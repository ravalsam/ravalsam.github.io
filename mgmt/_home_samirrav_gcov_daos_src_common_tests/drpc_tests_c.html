<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html> 
<head> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/> 
<title>Coverage Report</title> 
<link title="Style" type="text/css" rel="stylesheet" href="../css/main.css"/> 
<link title="Style" type="text/css" rel="stylesheet" href="../css/highlight.css"/> 

<link title="Style" type="text/css" rel="stylesheet" href="../css/sortabletable.css"/> 
<script type="text/javascript" src="../js/popup.js"></script> 
<script type="text/javascript" src="../js/sortabletable.js"></script> 
<script type="text/javascript" src="../js/customsorttypes.js"></script> 
</head> 
<body>
<h5>Coverage Report - /home/samirrav/gcov_daos/src/common/tests/drpc_tests.c <a href="../_home_samirrav_gcov_daos_src_common_tests.html"><img src='../images/upper.png' border="0"/></a></h5> 
<br>
<div class="separator">&nbsp;</div> 
<table class="report" id="fileList"> 
	<thead>
		<tr>
			<td class="heading" width="50%">File</td>  
			<td class="heading" width="10%">#Function</td>  
			<td class="heading"  width="20%">
				<a class="dfn" href="help.html" onclick="popupwindow('help.html'); return false;">
					Function Coverage
				</a>
			</td>
			<td class="heading"  width="20%">
				<a class="dfn" href="help.html" onclick="popupwindow('help.html'); return false;">
					Branch Coverage
				</a>
			</td>
		</tr>
	</thead> 
	
	
	<tbody> 
	<tr>
			<td><a href='../_home_samirrav_gcov_daos_src_common_tests/drpc_tests_c.html'>/home/samirrav/gcov_daos/src/common/tests/drpc_tests.c</a></td>
			<td class='value'>39</td>
			<td><table cellpadding='0px' cellspacing='0px' class='percentgraph'>
					<tr class='percentgraph'>
						<td align='right' class='percentgraph' width='40'>0.0%</td>
						<td class='percentgraph'>
							<div class='percentgraph'>
								<div class='greenbar' style='width:0px'>
									<span class='text'>0/39</span>
								</div>
							</div>
						</td>
					</tr>
				</table>
			</td>
			<td>
				<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
					<tr class='percentgraph'>
						<td align='right' class='percentgraph' width='40'>N/A%</td>
						<td class='percentgraph'>
							<div class='percentgraph'>
								<div class='na' style='width:100px'>
									<span class='text'>0/0</span>
								</div>
							</div>
						</td>
					</tr>
				</table>
			</td>
		</tr>
	</tbody> 
</table> 

<div class="separator">&nbsp;</div> 
<table class="report" id="currentDir"> 
	<thead>
		<tr>
			<td class="heading" width="50%">Functions</td>  
			<td class="heading" width="25%">Function Covered</td>  
			<td class="heading"  width="25%">
				<a class="dfn" href="help.html" onclick="popupwindow('help.html'); return false;">
					Branch Coverage
				</a>
			</td>
		</tr>
	</thead> 
	<tbody> 
			<tr>
					<td><a href='#55'>setup_drpc_mocks(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#75'>teardown_drpc_mocks(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#87'>test_drpc_connect_returns_null_if_socket_fails(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#95'>test_drpc_connect_returns_null_if_connect_fails(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#106'>test_drpc_connect_success(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#136'>test_drpc_close_fails_if_ctx_null(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#142'>test_drpc_close_fails_if_ctx_comm_null(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#154'>test_drpc_close_success(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#170'>test_drpc_call_fails_if_sendmsg_fails(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#187'>test_drpc_call_sends_call_as_mesg(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#230'>test_drpc_call_with_no_flags_returns_async(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#250'>test_drpc_call_with_sync_flag_gets_socket_response(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#280'>test_drpc_call_with_sync_flag_fails_on_recvmsg_fail(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#300'>test_drpc_listen_fails_with_null_path(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#306'>test_drpc_listen_fails_with_null_handler(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#312'>test_drpc_listen_success(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#359'>test_drpc_listen_fails_if_socket_fails(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#367'>test_drpc_listen_fails_if_fcntl_fails(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#378'>test_drpc_listen_fails_if_bind_fails(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#389'>test_drpc_listen_fails_if_listen_fails(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#403'>test_drpc_accept_fails_with_null_ctx(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#409'>test_drpc_accept_fails_with_null_handler(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#421'>test_drpc_accept_success(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#446'>test_drpc_accept_fails_if_accept_fails(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#461'>test_drpc_recv_fails_if_ctx_is_null(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#467'>test_drpc_recv_fails_if_handler_is_null(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#479'>test_drpc_recv_success(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#528'>assert_drpc_recv_fails_with_recvmsg_errno(int,int)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#550'>test_drpc_recv_fails_if_recvmsg_fails(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#556'>test_drpc_recv_fails_if_recvmsg_would_block(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#563'>test_drpc_recv_fails_if_incoming_call_malformed(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#577'>test_drpc_recv_fails_if_sendmsg_fails(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#591'>test_drpc_call_create_null_ctx(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#597'>test_drpc_call_create_free(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#623'>test_drpc_call_free_null(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#630'>test_drpc_response_create_null_call(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#636'>test_drpc_response_create_free_success(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#658'>test_drpc_response_free_null(void**)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
		<tr>
					<td><a href='#670'>main(void)</a></td>
					<td>
							Not Covered
					</td>
					<td>
						<table cellpadding='0px' cellspacing='0px' class='percentgraph'>
							<tr class='percentgraph'>
								<td align='right' class='percentgraph' width='40'>N/A%</td>
								<td class='percentgraph'>
									<div class='percentgraph'>
										<div class='na' style='width:100px'>
											<span class='text'>0/0</span>
										</div>
									</div>
								</td>
							</tr>
						</table>
					</td>
				</tr>
			
	</tbody> 
</table> 



<div class="separator">&nbsp;</div> 
<div style="overflow-x:scroll;">
<table class="source">
<colgroup>
<col width="40"/>
<col width="40"/>
<col width=""/>
</colgroup>
<tr class="kwnone">
<td class="line">1</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">/*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">2</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;(C)&nbsp;Copyright&nbsp;2018-2019&nbsp;Intel&nbsp;Corporation.</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">3</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">4</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;(the&nbsp;&quot;License&quot;);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">5</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;you&nbsp;may&nbsp;not&nbsp;use&nbsp;this&nbsp;file&nbsp;except&nbsp;in&nbsp;compliance&nbsp;with&nbsp;the&nbsp;License.</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">6</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;You&nbsp;may&nbsp;obtain&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;License&nbsp;at</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">7</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">8</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;http://www.apache.org/licenses/LICENSE-2.0</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">9</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">10</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;Unless&nbsp;required&nbsp;by&nbsp;applicable&nbsp;law&nbsp;or&nbsp;agreed&nbsp;to&nbsp;in&nbsp;writing,&nbsp;software</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">11</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;distributed&nbsp;under&nbsp;the&nbsp;License&nbsp;is&nbsp;distributed&nbsp;on&nbsp;an&nbsp;&quot;AS&nbsp;IS&quot;&nbsp;BASIS,</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">12</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;WITHOUT&nbsp;WARRANTIES&nbsp;OR&nbsp;CONDITIONS&nbsp;OF&nbsp;ANY&nbsp;KIND,&nbsp;either&nbsp;express&nbsp;or&nbsp;implied.</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">13</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;See&nbsp;the&nbsp;License&nbsp;for&nbsp;the&nbsp;specific&nbsp;language&nbsp;governing&nbsp;permissions&nbsp;and</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">14</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;limitations&nbsp;under&nbsp;the&nbsp;License.</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">15</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">16</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;GOVERNMENT&nbsp;LICENSE&nbsp;RIGHTS-OPEN&nbsp;SOURCE&nbsp;SOFTWARE</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">17</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;The&nbsp;Government's&nbsp;rights&nbsp;to&nbsp;use,&nbsp;modify,&nbsp;reproduce,&nbsp;release,&nbsp;perform,&nbsp;display,</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">18</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;or&nbsp;disclose&nbsp;this&nbsp;software&nbsp;are&nbsp;subject&nbsp;to&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;Apache&nbsp;License&nbsp;as</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">19</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;provided&nbsp;in&nbsp;Contract&nbsp;No.&nbsp;8F-30005.</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">20</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;Any&nbsp;reproduction&nbsp;of&nbsp;computer&nbsp;software,&nbsp;computer&nbsp;software&nbsp;documentation,&nbsp;or</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">21</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;portions&nbsp;thereof&nbsp;marked&nbsp;with&nbsp;this&nbsp;legend&nbsp;must&nbsp;also&nbsp;reproduce&nbsp;the&nbsp;markings.</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">22</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">23</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">24</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">/*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">25</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;Unit&nbsp;tests&nbsp;for&nbsp;the&nbsp;drpc&nbsp;module</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">26</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">27</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">28</td>
<td class="line"></td>
<td class="code"><span class="cpp_preproc">#if</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">!</span><span class="cpp_plain">defined</span><span class="cpp_separator">(</span><span class="cpp_plain">__has_warning</span><span class="cpp_separator">)</span><span class="cpp_plain">&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;gcc&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">29</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_preproc">#pragma</span><span class="cpp_plain">&nbsp;GCC&nbsp;diagnostic&nbsp;ignored&nbsp;</span><span class="cpp_literal">&quot;-Wframe-larger-than=&quot;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">30</td>
<td class="line"></td>
<td class="code"><span class="cpp_preproc">#else</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">31</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_preproc">#if</span><span class="cpp_plain">&nbsp;__has_warning</span><span class="cpp_separator">(</span><span class="cpp_literal">&quot;-Wframe-larger-than=&quot;</span><span class="cpp_separator">)</span><span class="cpp_plain">&nbsp;</span><span class="cpp_comment">/*&nbsp;valid&nbsp;clang&nbsp;warning&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">32</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_preproc">#pragma</span><span class="cpp_plain">&nbsp;GCC&nbsp;diagnostic&nbsp;ignored&nbsp;</span><span class="cpp_literal">&quot;-Wframe-larger-than=&quot;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">33</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_preproc">#endif</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">34</td>
<td class="line"></td>
<td class="code"><span class="cpp_preproc">#endif</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">35</td>
<td class="line"></td>
<td class="code"><span class="cpp_preproc">#include</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">&lt;</span><span class="cpp_plain">stdarg</span><span class="cpp_separator">.</span><span class="cpp_plain">h</span><span class="cpp_operator">&gt;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">36</td>
<td class="line"></td>
<td class="code"><span class="cpp_preproc">#include</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">&lt;</span><span class="cpp_plain">stddef</span><span class="cpp_separator">.</span><span class="cpp_plain">h</span><span class="cpp_operator">&gt;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">37</td>
<td class="line"></td>
<td class="code"><span class="cpp_preproc">#include</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">&lt;</span><span class="cpp_plain">setjmp</span><span class="cpp_separator">.</span><span class="cpp_plain">h</span><span class="cpp_operator">&gt;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">38</td>
<td class="line"></td>
<td class="code"><span class="cpp_preproc">#include</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">&lt;</span><span class="cpp_plain">cmocka</span><span class="cpp_separator">.</span><span class="cpp_plain">h</span><span class="cpp_operator">&gt;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">39</td>
<td class="line"></td>
<td class="code"><span class="cpp_preproc">#include</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">&lt;</span><span class="cpp_plain">string</span><span class="cpp_separator">.</span><span class="cpp_plain">h</span><span class="cpp_operator">&gt;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">40</td>
<td class="line"></td>
<td class="code"><span class="cpp_preproc">#include</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">&lt;</span><span class="cpp_plain">stdlib</span><span class="cpp_separator">.</span><span class="cpp_plain">h</span><span class="cpp_operator">&gt;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">41</td>
<td class="line"></td>
<td class="code"><span class="cpp_preproc">#include</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">&lt;</span><span class="cpp_plain">errno</span><span class="cpp_separator">.</span><span class="cpp_plain">h</span><span class="cpp_operator">&gt;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">42</td>
<td class="line"></td>
<td class="code"><span class="cpp_preproc">#include</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">&lt;</span><span class="cpp_plain">daos_errno</span><span class="cpp_separator">.</span><span class="cpp_plain">h</span><span class="cpp_operator">&gt;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">43</td>
<td class="line"></td>
<td class="code"><span class="cpp_preproc">#include</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">&lt;</span><span class="cpp_plain">daos</span><span class="cpp_operator">/</span><span class="cpp_plain">drpc</span><span class="cpp_separator">.</span><span class="cpp_plain">h</span><span class="cpp_operator">&gt;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">44</td>
<td class="line"></td>
<td class="code"><span class="cpp_preproc">#include</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">&lt;</span><span class="cpp_plain">daos</span><span class="cpp_operator">/</span><span class="cpp_plain">test_mocks</span><span class="cpp_separator">.</span><span class="cpp_plain">h</span><span class="cpp_operator">&gt;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">45</td>
<td class="line"></td>
<td class="code"><span class="cpp_preproc">#include</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">&lt;</span><span class="cpp_plain">daos</span><span class="cpp_operator">/</span><span class="cpp_plain">test_utils</span><span class="cpp_separator">.</span><span class="cpp_plain">h</span><span class="cpp_operator">&gt;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">46</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">47</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">48</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">/*&nbsp;None&nbsp;of&nbsp;these&nbsp;tests&nbsp;depend&nbsp;on&nbsp;a&nbsp;real&nbsp;socket&nbsp;existing&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">49</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_type">char</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">TEST_SOCK_ADDR&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">&quot;/good/socket.sock&quot;</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">50</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">51</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">/*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">52</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;Test&nbsp;setup&nbsp;and&nbsp;teardown</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">53</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">54</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_type">int</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">55<a name='55'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">setup_drpc_mocks</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">56</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">57</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;Init&nbsp;spy&nbsp;variables&nbsp;and&nbsp;set&nbsp;up&nbsp;default&nbsp;return&nbsp;values&nbsp;for&nbsp;mocks&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">58</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">59</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;mock_socket_setup</span><span class="cpp_separator">();</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">60</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;mock_connect_setup</span><span class="cpp_separator">();</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">61</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;mock_bind_setup</span><span class="cpp_separator">();</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">62</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;mock_fcntl_setup</span><span class="cpp_separator">();</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">63</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;mock_listen_setup</span><span class="cpp_separator">();</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">64</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;mock_accept_setup</span><span class="cpp_separator">();</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">65</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;mock_close_setup</span><span class="cpp_separator">();</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">66</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;mock_sendmsg_setup</span><span class="cpp_separator">();</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">67</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;mock_recvmsg_setup</span><span class="cpp_separator">();</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">68</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">69</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;mock_drpc_handler_setup</span><span class="cpp_separator">();</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">70</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">71</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">return</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">72</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">73</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">74</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_type">int</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">75<a name='75'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">teardown_drpc_mocks</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">76</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">77</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;mock_drpc_handler_teardown</span><span class="cpp_separator">();</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">78</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">79</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">return</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">80</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">81</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">82</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">/*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">83</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;drpc_connect&nbsp;unit&nbsp;tests</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">84</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">85</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">86</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">87<a name='87'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_connect_returns_null_if_socket_fails</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">88</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">89</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;socket_return&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_literal">1</span><span class="cpp_separator">;</span><span class="cpp_plain">&nbsp;</span><span class="cpp_comment">/*&nbsp;&lt;&nbsp;0&nbsp;indicates&nbsp;failure&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">90</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">91</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_null</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_connect</span><span class="cpp_separator">(</span><span class="cpp_plain">TEST_SOCK_ADDR</span><span class="cpp_separator">));</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">92</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">93</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">94</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">95<a name='95'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_connect_returns_null_if_connect_fails</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">96</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">97</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;connect_return&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_literal">1</span><span class="cpp_separator">;</span><span class="cpp_plain">&nbsp;</span><span class="cpp_comment">/*&nbsp;&lt;&nbsp;0&nbsp;indicates&nbsp;failure&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">98</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">99</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_null</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_connect</span><span class="cpp_separator">(</span><span class="cpp_plain">TEST_SOCK_ADDR</span><span class="cpp_separator">));</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">100</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">101</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;Closed&nbsp;the&nbsp;socket&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">102</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">close_fd</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;socket_return</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">103</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">104</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">105</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">106<a name='106'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_connect_success</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">107</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">108</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;drpc&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">ctx&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;drpc_connect</span><span class="cpp_separator">(</span><span class="cpp_plain">TEST_SOCK_ADDR</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">109</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">110</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;created&nbsp;socket&nbsp;with&nbsp;correct&nbsp;input&nbsp;params&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">111</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">socket_family</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;AF_UNIX</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">112</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">socket_type</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;SOCK_SEQPACKET</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">113</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">socket_protocol</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">114</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">115</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;connected&nbsp;to&nbsp;socket&nbsp;with&nbsp;correct&nbsp;input&nbsp;params&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">116</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">connect_sockfd</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;socket_return</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">117</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_non_null</span><span class="cpp_separator">(</span><span class="cpp_plain">connect_addr_ptr</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">118</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">connect_addr</span><span class="cpp_separator">.</span><span class="cpp_plain">sun_family</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;socket_family</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">119</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_string_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">connect_addr</span><span class="cpp_separator">.</span><span class="cpp_plain">sun_path</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;TEST_SOCK_ADDR</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">120</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">connect_addrlen</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">sizeof</span><span class="cpp_separator">(</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;sockaddr_un</span><span class="cpp_separator">));</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">121</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">122</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;returned&nbsp;correct&nbsp;ctx&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">123</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_non_null</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">124</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">sequence</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">125</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">comm</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">fd</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;socket_return</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">126</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">comm</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">flags</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">127</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_null</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">handler</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">128</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">129</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;free_drpc</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">130</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">131</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">132</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">/*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">133</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;drpc_close&nbsp;unit&nbsp;tests</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">134</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">135</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">136<a name='136'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_close_fails_if_ctx_null</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">137</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">138</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_close</span><span class="cpp_separator">(</span><span class="cpp_plain">NULL</span><span class="cpp_separator">),</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_plain">DER_INVAL</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">139</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">140</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">141</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">142<a name='142'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_close_fails_if_ctx_comm_null</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">143</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">144</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;drpc&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">ctx</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">145</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">146</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;D_ALLOC_PTR</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">147</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">148</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_close</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">),</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_plain">DER_INVAL</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">149</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">150</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;D_FREE</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">151</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">152</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">153</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">154<a name='154'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_close_success</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">155</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">156</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_type">int</span><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expected_fd&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">123</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">157</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;drpc&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">ctx&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_with_fd</span><span class="cpp_separator">(</span><span class="cpp_plain">expected_fd</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">158</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">159</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_close</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">),</span><span class="cpp_plain">&nbsp;DER_SUCCESS</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">160</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">161</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;called&nbsp;close()&nbsp;with&nbsp;the&nbsp;ctx&nbsp;fd&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">162</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">close_fd</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;expected_fd</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">163</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">164</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">165</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">/*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">166</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;drpc_call&nbsp;unit&nbsp;tests</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">167</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">168</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">169</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">170<a name='170'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_call_fails_if_sendmsg_fails</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">171</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">172</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;drpc&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">ctx&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_with_fd</span><span class="cpp_separator">(</span><span class="cpp_literal">2</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">173</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_type">Drpc__Response</span><span class="cpp_plain">&nbsp;&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">resp&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;NULL</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">174</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_type">Drpc__Call</span><span class="cpp_plain">&nbsp;&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">call&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_call</span><span class="cpp_separator">();</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">175</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">176</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;sendmsg_return&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_literal">1</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">177</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;errno&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;EINVAL</span><span class="cpp_separator">;</span><span class="cpp_plain">&nbsp;</span><span class="cpp_comment">/*&nbsp;translates&nbsp;to&nbsp;-DER_INVAL&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">178</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">179</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_call</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;call</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">&amp;</span><span class="cpp_plain">resp</span><span class="cpp_separator">),</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_plain">DER_INVAL</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">180</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_null</span><span class="cpp_separator">(</span><span class="cpp_plain">resp</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">181</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">182</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;drpc__call__free_unpacked</span><span class="cpp_separator">(</span><span class="cpp_plain">call</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;NULL</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">183</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;free_drpc</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">184</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">185</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">186</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">187<a name='187'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_call_sends_call_as_mesg</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">188</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">189</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_type">int</span><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expected_fd&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">3</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">190</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;drpc&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">ctx&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_with_fd</span><span class="cpp_separator">(</span><span class="cpp_plain">expected_fd</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">191</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_type">Drpc__Response</span><span class="cpp_plain">&nbsp;&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">resp&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;NULL</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">192</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_type">Drpc__Call</span><span class="cpp_plain">&nbsp;&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">call&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_call</span><span class="cpp_separator">();</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">193</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;size_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expected_msg_size</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">194</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;uint8_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">expected_msg</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">195</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">196</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">sequence&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">10</span><span class="cpp_separator">;</span><span class="cpp_plain">&nbsp;</span><span class="cpp_comment">/*&nbsp;arbitrary&nbsp;but&nbsp;nonzero&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">197</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;call</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">sequence&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">198</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">199</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;drpc_call</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;call</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">&amp;</span><span class="cpp_plain">resp</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">200</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">201</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;drpc_call&nbsp;updated&nbsp;call&nbsp;seq&nbsp;number&nbsp;and&nbsp;incremented&nbsp;ctx&nbsp;seq&nbsp;num&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">202</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">sequence</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;call</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">sequence&nbsp;</span><span class="cpp_operator">+</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">1</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">203</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">204</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;Packed&nbsp;message&nbsp;is&nbsp;the&nbsp;call&nbsp;struct&nbsp;updated&nbsp;by&nbsp;drpc_call&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">205</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;expected_msg_size&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;drpc__call__get_packed_size</span><span class="cpp_separator">(</span><span class="cpp_plain">call</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">206</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;expected_msg&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;calloc</span><span class="cpp_separator">(</span><span class="cpp_literal">1</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;expected_msg_size</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">207</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;drpc__call__pack</span><span class="cpp_separator">(</span><span class="cpp_plain">call</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;expected_msg</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">208</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">209</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;Sent&nbsp;to&nbsp;the&nbsp;proper&nbsp;socket&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">210</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">sendmsg_sockfd</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;expected_fd</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">211</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">212</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;Check&nbsp;structure&nbsp;and&nbsp;contents&nbsp;of&nbsp;the&nbsp;message&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">213</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_non_null</span><span class="cpp_separator">(</span><span class="cpp_plain">sendmsg_msg_ptr</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">214</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_non_null</span><span class="cpp_separator">(</span><span class="cpp_plain">sendmsg_msg_iov_base_ptr</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">215</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">sendmsg_msg_iov_len</span><span class="cpp_separator">,</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">216</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expected_msg_size</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">217</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_memory_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">sendmsg_msg_content</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;expected_msg</span><span class="cpp_separator">,</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">218</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expected_msg_size</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">219</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">220</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;No&nbsp;flags&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">221</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">sendmsg_flags</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">222</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">223</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;D_FREE</span><span class="cpp_separator">(</span><span class="cpp_plain">expected_msg</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">224</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;drpc__response__free_unpacked</span><span class="cpp_separator">(</span><span class="cpp_plain">resp</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;NULL</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">225</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;drpc__call__free_unpacked</span><span class="cpp_separator">(</span><span class="cpp_plain">call</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;NULL</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">226</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;free_drpc</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">227</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">228</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">229</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">230<a name='230'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_call_with_no_flags_returns_async</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">231</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">232</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;drpc&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">ctx&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_with_fd</span><span class="cpp_separator">(</span><span class="cpp_literal">1</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">233</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_type">Drpc__Response</span><span class="cpp_plain">&nbsp;&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">resp&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;NULL</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">234</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_type">Drpc__Call</span><span class="cpp_plain">&nbsp;&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">call&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_call</span><span class="cpp_separator">();</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">235</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">236</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_call</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;call</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">&amp;</span><span class="cpp_plain">resp</span><span class="cpp_separator">),</span><span class="cpp_plain">&nbsp;DER_SUCCESS</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">237</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">238</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">resp</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">sequence</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;call</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">sequence</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">239</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">resp</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">status</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;DRPC__STATUS__SUBMITTED</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">240</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">241</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;ensure&nbsp;recvmsg&nbsp;not&nbsp;called&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">242</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">recvmsg_call_count</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">243</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">244</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;drpc__response__free_unpacked</span><span class="cpp_separator">(</span><span class="cpp_plain">resp</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;NULL</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">245</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;drpc__call__free_unpacked</span><span class="cpp_separator">(</span><span class="cpp_plain">call</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;NULL</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">246</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;free_drpc</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">247</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">248</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">249</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">250<a name='250'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_call_with_sync_flag_gets_socket_response</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">251</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">252</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;drpc&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">ctx&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_with_fd</span><span class="cpp_separator">(</span><span class="cpp_literal">1</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">253</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_type">Drpc__Response</span><span class="cpp_plain">&nbsp;&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">resp&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;NULL</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">254</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_type">Drpc__Call</span><span class="cpp_plain">&nbsp;&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">call&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_call</span><span class="cpp_separator">();</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">255</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_type">Drpc__Response</span><span class="cpp_plain">&nbsp;&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">expected_resp</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">256</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">257</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*</span><span class="cpp_plain">&nbsp;Actual&nbsp;contents&nbsp;of&nbsp;the&nbsp;message&nbsp;are&nbsp;arbitrary&nbsp;-&nbsp;just&nbsp;needs&nbsp;to&nbsp;be</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">258</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;identifiable.</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">259</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">260</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;expected_resp&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;calloc</span><span class="cpp_separator">(</span><span class="cpp_literal">1</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">sizeof</span><span class="cpp_separator">(</span><span class="cpp_type">Drpc__Response</span><span class="cpp_separator">));</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">261</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;drpc__response__init</span><span class="cpp_separator">(</span><span class="cpp_plain">expected_resp</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">262</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;expected_resp</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">sequence&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">12345</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">263</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;expected_resp</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">status&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;DRPC__STATUS__FAILURE</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">264</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">265</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;drpc__response__pack</span><span class="cpp_separator">(</span><span class="cpp_plain">expected_resp</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;recvmsg_msg_content</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">266</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">267</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_call</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;R_SYNC</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;call</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">&amp;</span><span class="cpp_plain">resp</span><span class="cpp_separator">),</span><span class="cpp_plain">&nbsp;DER_SUCCESS</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">268</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">269</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">resp</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">sequence</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;expected_resp</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">sequence</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">270</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">resp</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">status</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;expected_resp</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">status</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">271</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">resp</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">body</span><span class="cpp_separator">.</span><span class="cpp_plain">len</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;expected_resp</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">body</span><span class="cpp_separator">.</span><span class="cpp_plain">len</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">272</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">273</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;drpc__response__free_unpacked</span><span class="cpp_separator">(</span><span class="cpp_plain">resp</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;NULL</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">274</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;drpc__response__free_unpacked</span><span class="cpp_separator">(</span><span class="cpp_plain">expected_resp</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;NULL</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">275</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;drpc__call__free_unpacked</span><span class="cpp_separator">(</span><span class="cpp_plain">call</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;NULL</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">276</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;free_drpc</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">277</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">278</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">279</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">280<a name='280'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_call_with_sync_flag_fails_on_recvmsg_fail</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">281</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">282</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;drpc&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">ctx&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_with_fd</span><span class="cpp_separator">(</span><span class="cpp_literal">1</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">283</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_type">Drpc__Response</span><span class="cpp_plain">&nbsp;&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">resp&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;NULL</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">284</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_type">Drpc__Call</span><span class="cpp_plain">&nbsp;&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">call&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_call</span><span class="cpp_separator">();</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">285</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">286</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;recvmsg_return&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_literal">1</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">287</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;errno&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;EINVAL</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">288</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">289</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_call</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;R_SYNC</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;call</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">&amp;</span><span class="cpp_plain">resp</span><span class="cpp_separator">),</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_plain">DER_INVAL</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">290</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_null</span><span class="cpp_separator">(</span><span class="cpp_plain">resp</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">291</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">292</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;drpc__call__free_unpacked</span><span class="cpp_separator">(</span><span class="cpp_plain">call</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;NULL</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">293</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;free_drpc</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">294</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">295</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">296</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">/*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">297</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;drpc_listen&nbsp;unit&nbsp;tests</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">298</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">299</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">300<a name='300'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_listen_fails_with_null_path</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">301</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">302</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_null</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_listen</span><span class="cpp_separator">(</span><span class="cpp_plain">NULL</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;mock_drpc_handler</span><span class="cpp_separator">));</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">303</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">304</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">305</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">306<a name='306'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_listen_fails_with_null_handler</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">307</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">308</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_null</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_listen</span><span class="cpp_separator">(</span><span class="cpp_plain">TEST_SOCK_ADDR</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;NULL</span><span class="cpp_separator">));</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">309</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">310</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">311</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">312<a name='312'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_listen_success</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">313</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">314</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;drpc&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">ctx&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;drpc_listen</span><span class="cpp_separator">(</span><span class="cpp_plain">TEST_SOCK_ADDR</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;mock_drpc_handler</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">315</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">316</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">317</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Valid&nbsp;ctx&nbsp;was&nbsp;returned&nbsp;for&nbsp;socket</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">318</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">319</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_non_null</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">320</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_non_null</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">comm</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">321</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">comm</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">fd</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;socket_return</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">322</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">comm</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">flags</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;O_NONBLOCK</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">323</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">sequence</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">324</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_ptr_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">handler</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;mock_drpc_handler</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">325</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">326</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">327</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Called&nbsp;socket()&nbsp;with&nbsp;correct&nbsp;params</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">328</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">329</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">socket_family</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;AF_UNIX</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">330</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">socket_type</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;SOCK_SEQPACKET</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">331</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">socket_protocol</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">332</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">333</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">334</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Called&nbsp;bind()&nbsp;with&nbsp;the&nbsp;socket&nbsp;we&nbsp;got&nbsp;back</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">335</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">336</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">bind_sockfd</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;socket_return</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">337</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_non_null</span><span class="cpp_separator">(</span><span class="cpp_plain">bind_addr_ptr</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">338</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">bind_addr</span><span class="cpp_separator">.</span><span class="cpp_plain">sun_family</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;socket_family</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">339</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_string_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">bind_addr</span><span class="cpp_separator">.</span><span class="cpp_plain">sun_path</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;TEST_SOCK_ADDR</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">340</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">bind_addrlen</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">sizeof</span><span class="cpp_separator">(</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;sockaddr_un</span><span class="cpp_separator">));</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">341</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">342</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">343</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Called&nbsp;fcntl&nbsp;to&nbsp;set&nbsp;nonblocking&nbsp;flag</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">344</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">345</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">fcntl_fd</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;socket_return</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">346</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">fcntl_cmd</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;F_SETFL</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">347</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">fcntl_arg</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;O_NONBLOCK</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">348</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">349</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">350</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Called&nbsp;listen()&nbsp;on&nbsp;the&nbsp;bound&nbsp;socket</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">351</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">352</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">listen_sockfd</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;socket_return</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">353</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">listen_backlog</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;SOMAXCONN</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">354</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">355</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;free_drpc</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">356</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">357</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">358</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">359<a name='359'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_listen_fails_if_socket_fails</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">360</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">361</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;socket_return&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_literal">1</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">362</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">363</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_null</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_listen</span><span class="cpp_separator">(</span><span class="cpp_plain">TEST_SOCK_ADDR</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;mock_drpc_handler</span><span class="cpp_separator">));</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">364</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">365</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">366</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">367<a name='367'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_listen_fails_if_fcntl_fails</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">368</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">369</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;fcntl_return&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_literal">1</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">370</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">371</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_null</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_listen</span><span class="cpp_separator">(</span><span class="cpp_plain">TEST_SOCK_ADDR</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;mock_drpc_handler</span><span class="cpp_separator">));</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">372</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">373</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;Socket&nbsp;was&nbsp;closed&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">374</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">close_fd</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;socket_return</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">375</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">376</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">377</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">378<a name='378'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_listen_fails_if_bind_fails</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">379</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">380</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;bind_return&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_literal">1</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">381</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">382</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_null</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_listen</span><span class="cpp_separator">(</span><span class="cpp_plain">TEST_SOCK_ADDR</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;mock_drpc_handler</span><span class="cpp_separator">));</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">383</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">384</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;Socket&nbsp;was&nbsp;closed&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">385</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">close_fd</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;socket_return</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">386</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">387</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">388</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">389<a name='389'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_listen_fails_if_listen_fails</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">390</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">391</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;listen_return&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_literal">1</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">392</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">393</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_null</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_listen</span><span class="cpp_separator">(</span><span class="cpp_plain">TEST_SOCK_ADDR</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;mock_drpc_handler</span><span class="cpp_separator">));</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">394</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">395</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;Socket&nbsp;was&nbsp;closed&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">396</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">close_fd</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;socket_return</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">397</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">398</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">399</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">/*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">400</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;drpc_accept&nbsp;unit&nbsp;tests</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">401</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">402</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">403<a name='403'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_accept_fails_with_null_ctx</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">404</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">405</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_null</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_accept</span><span class="cpp_separator">(</span><span class="cpp_plain">NULL</span><span class="cpp_separator">));</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">406</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">407</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">408</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">409<a name='409'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_accept_fails_with_null_handler</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">410</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">411</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;drpc&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">ctx&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_with_fd</span><span class="cpp_separator">(</span><span class="cpp_literal">15</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">412</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">413</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">handler&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;NULL</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">414</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">415</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_null</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_accept</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">));</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">416</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">417</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;free_drpc</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">418</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">419</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">420</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">421<a name='421'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_accept_success</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">422</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">423</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;drpc&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">ctx&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_with_fd</span><span class="cpp_separator">(</span><span class="cpp_literal">15</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">424</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;drpc&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">session_ctx</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">425</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">426</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;session_ctx&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;drpc_accept</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">427</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">428</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;got&nbsp;context&nbsp;back&nbsp;for&nbsp;the&nbsp;new&nbsp;accepted&nbsp;connection&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">429</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_non_null</span><span class="cpp_separator">(</span><span class="cpp_plain">session_ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">430</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_non_null</span><span class="cpp_separator">(</span><span class="cpp_plain">session_ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">comm</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">431</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">session_ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">comm</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">fd</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;accept_return</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">432</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">session_ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">comm</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">flags</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">433</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">session_ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">sequence</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">434</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_ptr_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">session_ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">handler</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">handler</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">435</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">436</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;called&nbsp;accept()&nbsp;on&nbsp;parent&nbsp;ctx&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">437</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">accept_sockfd</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">comm</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">fd</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">438</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_null</span><span class="cpp_separator">(</span><span class="cpp_plain">accept_addr_ptr</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">439</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_null</span><span class="cpp_separator">(</span><span class="cpp_plain">accept_addrlen_ptr</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">440</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">441</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;free_drpc</span><span class="cpp_separator">(</span><span class="cpp_plain">session_ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">442</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;free_drpc</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">443</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">444</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">445</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">446<a name='446'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_accept_fails_if_accept_fails</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">447</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">448</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;drpc&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">ctx&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_with_fd</span><span class="cpp_separator">(</span><span class="cpp_literal">15</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">449</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">450</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;accept_return&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_literal">1</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">451</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">452</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_null</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_accept</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">));</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">453</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">454</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;free_drpc</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">455</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">456</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">457</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">/*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">458</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;*&nbsp;drpc_recv&nbsp;unit&nbsp;tests</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">459</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">460</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">461<a name='461'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_recv_fails_if_ctx_is_null</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">462</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">463</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_recv</span><span class="cpp_separator">(</span><span class="cpp_plain">NULL</span><span class="cpp_separator">),</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_plain">DER_INVAL</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">464</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">465</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">466</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">467<a name='467'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_recv_fails_if_handler_is_null</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">468</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">469</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;drpc&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">ctx&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_with_fd</span><span class="cpp_separator">(</span><span class="cpp_literal">12</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">470</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">471</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">handler&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;NULL</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">472</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">473</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_recv</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">),</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_plain">DER_INVAL</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">474</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">475</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;free_drpc</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">476</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">477</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">478</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">479<a name='479'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_recv_success</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">480</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">481</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;drpc&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">ctx&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_with_fd</span><span class="cpp_separator">(</span><span class="cpp_literal">6</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">482</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;uint8_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expected_response</span><span class="cpp_separator">[</span><span class="cpp_plain">UNIXCOMM_MAXMSGSIZE</span><span class="cpp_separator">];</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">483</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;size_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expected_response_size</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">484</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">485</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;mock_valid_drpc_call_in_recvmsg</span><span class="cpp_separator">();</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">486</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">487</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_recv</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">),</span><span class="cpp_plain">&nbsp;DER_SUCCESS</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">488</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">489</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">490</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Called&nbsp;recvmsg()</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">491</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">492</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">recvmsg_call_count</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">1</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">493</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">recvmsg_sockfd</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">comm</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">fd</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">494</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_non_null</span><span class="cpp_separator">(</span><span class="cpp_plain">recvmsg_msg_ptr</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">495</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_non_null</span><span class="cpp_separator">(</span><span class="cpp_plain">recvmsg_msg_iov_base_ptr</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">496</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">recvmsg_msg_iov_len</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;UNIXCOMM_MAXMSGSIZE</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">497</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">recvmsg_flags</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">498</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">499</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">500</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Called&nbsp;handler&nbsp;with&nbsp;appropriate&nbsp;inputs</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">501</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">502</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">mock_drpc_handler_call_count</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">1</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">503</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_non_null</span><span class="cpp_separator">(</span><span class="cpp_plain">mock_drpc_handler_call</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">504</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_non_null</span><span class="cpp_separator">(</span><span class="cpp_plain">mock_drpc_handler_resp_ptr</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">505</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">506</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">507</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Sent&nbsp;response&nbsp;message&nbsp;-&nbsp;should&nbsp;be&nbsp;the&nbsp;one&nbsp;returned&nbsp;from</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">508</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;the&nbsp;handler</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">509</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">510</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;memset</span><span class="cpp_separator">(</span><span class="cpp_plain">expected_response</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">sizeof</span><span class="cpp_separator">(</span><span class="cpp_plain">expected_response</span><span class="cpp_separator">));</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">511</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;drpc__response__pack</span><span class="cpp_separator">(</span><span class="cpp_plain">mock_drpc_handler_resp_return</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;expected_response</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">512</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;expected_response_size&nbsp;</span><span class="cpp_operator">=</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">513</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;drpc__response__get_packed_size</span><span class="cpp_separator">(</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">514</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mock_drpc_handler_resp_return</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">515</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">516</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">sendmsg_call_count</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">1</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">517</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">sendmsg_sockfd</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">comm</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">fd</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">518</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_non_null</span><span class="cpp_separator">(</span><span class="cpp_plain">sendmsg_msg_ptr</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">519</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_non_null</span><span class="cpp_separator">(</span><span class="cpp_plain">sendmsg_msg_iov_base_ptr</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">520</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">sendmsg_msg_iov_len</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;expected_response_size</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">521</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_memory_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">sendmsg_msg_content</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;expected_response</span><span class="cpp_separator">,</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">522</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expected_response_size</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">523</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">524</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;free_drpc</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">525</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">526</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">527</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">528<a name='528'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">assert_drpc_recv_fails_with_recvmsg_errno</span><span class="cpp_separator">(</span><span class="cpp_type">int</span><span class="cpp_plain">&nbsp;recvmsg_errno</span><span class="cpp_separator">,</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">529</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_type">int</span><span class="cpp_plain">&nbsp;expected_retval</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">530</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">531</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;drpc&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">ctx&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_with_fd</span><span class="cpp_separator">(</span><span class="cpp_literal">3</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">532</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">533</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;mock_valid_drpc_call_in_recvmsg</span><span class="cpp_separator">();</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">534</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">535</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;recvmsg_call_count&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">536</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;recvmsg_return&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_literal">1</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">537</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;errno&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;recvmsg_errno</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">538</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">539</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_recv</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">),</span><span class="cpp_plain">&nbsp;expected_retval</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">540</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">541</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;Didn't&nbsp;call&nbsp;subsequent&nbsp;methods&nbsp;after&nbsp;recvmsg&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">542</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">recvmsg_call_count</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">1</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">543</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">mock_drpc_handler_call_count</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">544</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">sendmsg_call_count</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">545</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">546</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;free_drpc</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">547</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">548</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">549</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">550<a name='550'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_recv_fails_if_recvmsg_fails</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">551</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">552</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_drpc_recv_fails_with_recvmsg_errno</span><span class="cpp_separator">(</span><span class="cpp_plain">ENOMEM</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_plain">DER_NOMEM</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">553</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">554</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">555</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">556<a name='556'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_recv_fails_if_recvmsg_would_block</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">557</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">558</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_drpc_recv_fails_with_recvmsg_errno</span><span class="cpp_separator">(</span><span class="cpp_plain">EWOULDBLOCK</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_plain">DER_AGAIN</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">559</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_drpc_recv_fails_with_recvmsg_errno</span><span class="cpp_separator">(</span><span class="cpp_plain">EAGAIN</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_plain">DER_AGAIN</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">560</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">561</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">562</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">563<a name='563'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_recv_fails_if_incoming_call_malformed</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">564</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">565</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;drpc&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">ctx&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_with_fd</span><span class="cpp_separator">(</span><span class="cpp_literal">6</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">566</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">567</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;Incoming&nbsp;message&nbsp;is&nbsp;weird&nbsp;garbage&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">568</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;recvmsg_return&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">sizeof</span><span class="cpp_separator">(</span><span class="cpp_plain">recvmsg_msg_content</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">569</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;memset</span><span class="cpp_separator">(</span><span class="cpp_plain">recvmsg_msg_content</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">1</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">sizeof</span><span class="cpp_separator">(</span><span class="cpp_plain">recvmsg_msg_content</span><span class="cpp_separator">));</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">570</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">571</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_recv</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">),</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_plain">DER_MISC</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">572</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">573</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;free_drpc</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">574</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">575</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">576</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">577<a name='577'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_recv_fails_if_sendmsg_fails</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">578</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">579</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;drpc&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">ctx&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_with_fd</span><span class="cpp_separator">(</span><span class="cpp_literal">122</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">580</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">581</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;mock_valid_drpc_call_in_recvmsg</span><span class="cpp_separator">();</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">582</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;sendmsg_return&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_literal">1</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">583</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;errno&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;EINVAL</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">584</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">585</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_recv</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">),</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">-</span><span class="cpp_plain">DER_INVAL</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">586</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">587</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;free_drpc</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">588</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">589</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">590</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">591<a name='591'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_call_create_null_ctx</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">592</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">593</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_null</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_call_create</span><span class="cpp_separator">(</span><span class="cpp_plain">NULL</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">1</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">2</span><span class="cpp_separator">));</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">594</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">595</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">596</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">597<a name='597'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_call_create_free</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">598</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">599</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;drpc&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">ctx&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_with_fd</span><span class="cpp_separator">(</span><span class="cpp_literal">2</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">600</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;int32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">3</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">601</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;int32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">25</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">602</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;uint64_t&nbsp;&nbsp;&nbsp;&nbsp;sequence&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">203</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">603</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_type">Drpc__Call</span><span class="cpp_plain">&nbsp;&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">call</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">604</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">605</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;ctx</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">sequence&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;sequence</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">606</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">607</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;call&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;drpc_call_create</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;module</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;method</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">608</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">609</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_non_null</span><span class="cpp_separator">(</span><span class="cpp_plain">call</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">610</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_memory_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">call</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">base</span><span class="cpp_separator">.</span><span class="cpp_plain">descriptor</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">&amp;</span><span class="cpp_plain">drpc__call__descriptor</span><span class="cpp_separator">,</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">611</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">sizeof</span><span class="cpp_separator">(</span><span class="cpp_type">ProtobufCMessageDescriptor</span><span class="cpp_separator">));</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">612</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">call</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">sequence</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;sequence</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">613</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">call</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">module</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;module</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">614</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">call</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">method</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;method</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">615</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">call</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">body</span><span class="cpp_separator">.</span><span class="cpp_plain">len</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">0</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">616</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_null</span><span class="cpp_separator">(</span><span class="cpp_plain">call</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">body</span><span class="cpp_separator">.</span><span class="cpp_plain">data</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">617</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">618</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;drpc_call_free</span><span class="cpp_separator">(</span><span class="cpp_plain">call</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">619</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;free_drpc</span><span class="cpp_separator">(</span><span class="cpp_plain">ctx</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">620</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">621</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">622</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">623<a name='623'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_call_free_null</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">624</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">625</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;NULL&nbsp;input&nbsp;is&nbsp;a&nbsp;noop&nbsp;-&nbsp;just&nbsp;make&nbsp;sure&nbsp;no&nbsp;segfault&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">626</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;drpc_call_free</span><span class="cpp_separator">(</span><span class="cpp_plain">NULL</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">627</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">628</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">629</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">630<a name='630'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_response_create_null_call</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">631</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">632</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_null</span><span class="cpp_separator">(</span><span class="cpp_plain">drpc_response_create</span><span class="cpp_separator">(</span><span class="cpp_plain">NULL</span><span class="cpp_separator">));</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">633</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">634</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">635</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">636<a name='636'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_response_create_free_success</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">637</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">638</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_type">Drpc__Call</span><span class="cpp_plain">&nbsp;&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">call</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">639</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;uint64_t&nbsp;&nbsp;&nbsp;&nbsp;sequence&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_literal">12</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">640</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_type">Drpc__Response</span><span class="cpp_plain">&nbsp;&nbsp;</span><span class="cpp_operator">*</span><span class="cpp_plain">resp</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">641</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">642</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;call&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;new_drpc_call</span><span class="cpp_separator">();</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">643</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;call</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">sequence&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;sequence</span><span class="cpp_separator">;</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">644</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">645</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;resp&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;drpc_response_create</span><span class="cpp_separator">(</span><span class="cpp_plain">call</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">646</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">647</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_non_null</span><span class="cpp_separator">(</span><span class="cpp_plain">resp</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">648</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_memory_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">resp</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">base</span><span class="cpp_separator">.</span><span class="cpp_plain">descriptor</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">&amp;</span><span class="cpp_plain">drpc__response__descriptor</span><span class="cpp_separator">,</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">649</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">sizeof</span><span class="cpp_separator">(</span><span class="cpp_type">ProtobufCMessageDescriptor</span><span class="cpp_separator">));</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">650</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">resp</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">sequence</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;sequence</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">651</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;assert_int_equal</span><span class="cpp_separator">(</span><span class="cpp_plain">resp</span><span class="cpp_operator">-&gt;</span><span class="cpp_plain">status</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;DRPC__STATUS__SUCCESS</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">652</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">653</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;drpc_call_free</span><span class="cpp_separator">(</span><span class="cpp_plain">call</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">654</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;drpc_response_free</span><span class="cpp_separator">(</span><span class="cpp_plain">resp</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">655</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">656</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">657</td>
<td class="line"></td>
<td class="code"><span class="cpp_keyword">static</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">void</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">658<a name='658'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">test_drpc_response_free_null</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">**</span><span class="cpp_plain">state</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">659</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">660</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_comment">/*&nbsp;NULL&nbsp;input&nbsp;is&nbsp;a&nbsp;noop&nbsp;-&nbsp;just&nbsp;make&nbsp;sure&nbsp;no&nbsp;segfault&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">661</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;drpc_response_free</span><span class="cpp_separator">(</span><span class="cpp_plain">NULL</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">662</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">663</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">664</td>
<td class="line"></td>
<td class="code"><span class="cpp_comment">/*&nbsp;Convenience&nbsp;macro&nbsp;for&nbsp;tests&nbsp;in&nbsp;this&nbsp;file&nbsp;*/</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">665</td>
<td class="line"></td>
<td class="code"><span class="cpp_preproc">#define</span><span class="cpp_plain">&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">X</span><span class="cpp_separator">)</span><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">666</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;cmocka_unit_test_setup_teardown</span><span class="cpp_separator">(</span><span class="cpp_plain">X</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;setup_drpc_mocks</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;\</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">667</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;teardown_drpc_mocks</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">668</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">669</td>
<td class="line"></td>
<td class="code"><span class="cpp_type">int</span>
</td>
</tr>
<tr class="uncovered">
<td class="line">670<a name='670'/></td>
<td class="line"><img src='../images/uncheck_icon.png'></td>
<td class="code"><span class="cpp_plain">main</span><span class="cpp_separator">(</span><span class="cpp_keyword">void</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">671</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">672</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">const</span><span class="cpp_plain">&nbsp;</span><span class="cpp_keyword">struct</span><span class="cpp_plain">&nbsp;</span><span class="cpp_type">CMUnitTest</span><span class="cpp_plain">&nbsp;tests</span><span class="cpp_separator">[]</span><span class="cpp_plain">&nbsp;</span><span class="cpp_operator">=</span><span class="cpp_plain">&nbsp;</span><span class="cpp_separator">{</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">673</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_connect_returns_null_if_socket_fails</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">674</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_connect_returns_null_if_connect_fails</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">675</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_connect_success</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">676</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_close_fails_if_ctx_null</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">677</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_close_fails_if_ctx_comm_null</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">678</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_close_success</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">679</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_call_fails_if_sendmsg_fails</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">680</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_call_sends_call_as_mesg</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">681</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_call_with_no_flags_returns_async</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">682</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_call_with_sync_flag_gets_socket_response</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">683</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_call_with_sync_flag_fails_on_recvmsg_fail</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">684</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_listen_fails_with_null_path</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">685</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_listen_fails_with_null_handler</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">686</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_listen_success</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">687</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_listen_fails_if_socket_fails</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">688</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_listen_fails_if_fcntl_fails</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">689</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_listen_fails_if_bind_fails</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">690</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_listen_fails_if_listen_fails</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">691</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_accept_fails_with_null_ctx</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">692</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_accept_fails_with_null_handler</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">693</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_accept_success</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">694</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_accept_fails_if_accept_fails</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">695</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_recv_fails_if_ctx_is_null</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">696</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_recv_fails_if_handler_is_null</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">697</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_recv_success</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">698</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_recv_fails_if_recvmsg_fails</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">699</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_recv_fails_if_recvmsg_would_block</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">700</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_recv_fails_if_incoming_call_malformed</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">701</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRPC_UTEST</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_recv_fails_if_sendmsg_fails</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">702</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cmocka_unit_test</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_call_create_null_ctx</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">703</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cmocka_unit_test</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_call_create_free</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">704</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cmocka_unit_test</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_call_free_null</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">705</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cmocka_unit_test</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_response_create_null_call</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">706</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cmocka_unit_test</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_response_create_free_success</span><span class="cpp_separator">),</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">707</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cmocka_unit_test</span><span class="cpp_separator">(</span><span class="cpp_plain">test_drpc_response_free_null</span><span class="cpp_separator">)</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">708</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_separator">};</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">709</td>
<td class="line"></td>
<td class="code"><span class="cpp_plain">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="cpp_keyword">return</span><span class="cpp_plain">&nbsp;cmocka_run_group_tests</span><span class="cpp_separator">(</span><span class="cpp_plain">tests</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;NULL</span><span class="cpp_separator">,</span><span class="cpp_plain">&nbsp;NULL</span><span class="cpp_separator">);</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">710</td>
<td class="line"></td>
<td class="code"><span class="cpp_separator">}</span>
</td>
</tr>
<tr class="kwnone">
<td class="line">711</td>
<td class="line"></td>
<td class="code"></span>
</td>
</tr>
<tr class="kwnone">
<td class="line">712</td>
<td class="line"></td>
<td class="code"><span class="cpp_preproc">#undef</span><span class="cpp_plain">&nbsp;DRPC_UTEST</span>
</td>
</tr>
</table>
</div>
<div class="footer">Report generated by <a href="http://bullshtml.googlecode.com" target="_top">Bullseye Html Reporter</a> </div> 
</body> 
</html>